@import "tailwindcss";

@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

:root {
  color-scheme: light;
  /* 디자인 토큰 시스템 - 일관된 디자인을 위한 CSS 변수 */
  
  /* Background - 따뜻한 베이지 톤 */
  --bg: #FAF7F2;
  
  /* Primary (Brand) - 로즈/핑크 계열 */
  --primary-50: #FFF1F4;
  --primary-100: #FFE4EA;
  --primary-200: #FFC7D3;
  --primary-300: #FFAFBF;
  --primary-400: #FF8DA6;
  --primary-500: #FF8DA6;
  --primary-600: #F46E8A;
  --primary-700: #E25779;
  --primary-800: #C94563;
  --primary-900: #A7364D;
  
  /* Secondary - 로즈 핑크/라벤더 계열 (주요 액션) */
  --secondary-50: #FDF2F8;
  --secondary-100: #FCE7F3;
  --secondary-200: #FBCFE8;
  --secondary-300: #F9A8D4;
  --secondary-400: #F472B6;
  --secondary-500: #EC4899;
  --secondary-600: #F472B6; /* 로즈 핑크 */
  --secondary-700: #EC4899; /* 진한 로즈 핑크 */
  --secondary-800: #DB2777;
  --secondary-900: #BE185D;
  
  /* Neutral - 따뜻한 그레이 톤 */
  --neutral-50: #FDF7F8;
  --neutral-100: #F5F3F0;
  --neutral-200: #E8E4DF;
  --neutral-300: #D4CFC8;
  --neutral-400: #A8A19A;
  --neutral-500: #8B857D;
  --neutral-600: #6B6560;
  --neutral-700: #4A4541;
  --neutral-800: #2D2A27;
  --neutral-900: #1C1A1B;
  
  /* Status Colors - 부드러운 톤 */
  --success-50: #ECFDF5;
  --success-100: #D1FAE5;
  --success-200: #A7F3D0;
  --success-300: #6EE7B7;
  --success-400: #34D399;
  --success-500: #10B981;
  --success-600: #6EE7B7; /* 민트 그린 */
  --success-700: #10B981;
  
  --warning-50: #FFFBEB;
  --warning-100: #FEF3C7;
  --warning-200: #FDE68A;
  --warning-300: #FCD34D;
  --warning-400: #FBBF24;
  --warning-500: #F59E0B;
  --warning-600: #FCD34D; /* 부드러운 피치 */
  --warning-700: #F59E0B;
  
  --error-50: #FEF2F2;
  --error-100: #FEE2E2;
  --error-200: #FECACA;
  --error-300: #FCA5A5;
  --error-400: #FB7185;
  --error-500: #F87171;
  --error-600: #FCA5A5; /* 부드러운 로즈 */
  --error-700: #F87171;
  
  /* Legacy support (기존 코드 호환성) */
  --primary: var(--secondary-600);
  --muted: var(--neutral-500);
  --brand-50: var(--primary-50);
  --brand-100: var(--primary-100);
  --brand-300: var(--primary-300);
  --brand-400: var(--primary-400);
  --brand-500: var(--primary-500);
  --brand-600: var(--primary-600);
  --brand-700: var(--primary-700);
  --danger-600: var(--error-600);
  
  /* Overlay */
  --overlay-60: rgba(28,26,27,.55);
  
  /* 버튼 토큰 */
  --button-height-sm: 36px;
  --button-height-md: 40px;
  --button-height-lg: 44px;
  --button-padding-sm: 0.75rem;
  --button-padding-md: 1rem;
  --button-padding-lg: 1.25rem;
  --button-gap: 0.5rem;
  
  /* 입력 필드 토큰 */
  --input-height: 40px;
  --input-label-gap: 0.5rem;
  --input-error-gap: 0.25rem;
  --input-placeholder-color: #64748B;
  
  /* 카드 토큰 */
  --card-padding-default: 1.25rem;
  --card-padding-compact: 1rem;
  --card-gap: 1rem;
  --section-gap: 2rem;
  
  /* 링크 토큰 */
  --link-color: #F472B6;
  --link-hover-color: #EC4899;
  
  /* Border Radius - 부드러운 둥근 형태 디자인 */
  --radius-sm: 0.375rem;    /* 6px */
  --radius-md: 0.5rem;      /* 8px */
  --radius-lg: 0.75rem;     /* 12px */
  --radius-xl: 1rem;        /* 16px */
  --radius-2xl: 1.25rem;    /* 20px */
  --radius-3xl: 1.5rem;     /* 24px */
  --radius-full: 9999px;
}
html, body { height: 100%; }
body { 
  background: var(--bg); 
  color: var(--neutral-900); 
  font-family: Pretendard, system-ui, -apple-system, Segoe UI, sans-serif; 
  -webkit-font-smoothing: antialiased; 
  -moz-osx-font-smoothing: grayscale; 
  line-height: 1.7;
}
/* 타이포그래피 line-height 통일 - 여유 있는 행간 */
p, span, div { line-height: 1.7; }
.text-sm { line-height: 1.6; }
.text-xs { line-height: 1.5; }

/* Focus ring and smooth interactions - 부드러운 포커스 스타일 (2px 링) */
*:focus-visible { 
  outline: none; 
  box-shadow: 0 0 0 2px rgba(66, 99, 235, 0.4); 
  border-radius: var(--radius-md); 
}
button, a, [role="button"] { 
  transition: background-color 300ms ease-out, 
              color 300ms ease-out, 
              box-shadow 300ms ease-out, 
              transform 300ms ease-out,
              border-color 300ms ease-out; 
}

/* 얇은 스크롤바 및 색상 */
* { scrollbar-width: thin; }
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-thumb { background-color: rgb(209, 196, 202); border-radius: 9999px; }
::-webkit-scrollbar-thumb:hover { background-color: rgb(177, 162, 168); }
::-webkit-scrollbar-track { background-color: transparent; }

/* Fade & scale animations for modal/overlays */
@keyframes overlay-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes content-scale-in {
  from { opacity: 0; transform: translateY(4px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.animate-overlay-in { animation: overlay-fade-in 300ms ease-out both; }
.animate-content-in { animation: content-scale-in 300ms ease-out both; }

@keyframes overlay-fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}
@keyframes content-scale-out {
  from { opacity: 1; transform: translateY(0) scale(1); }
  to { opacity: 0; transform: translateY(4px) scale(0.98); }
}
.animate-overlay-out { animation: overlay-fade-out 300ms ease-in both; }
.animate-content-out { animation: content-scale-out 300ms ease-in both; }

/* FullCalendar modern grid 스타일 */
.fc .fc-col-header-cell-cushion{
  padding: 0.5rem 0.25rem;
  font-weight: 600;
  color: #4b5563;
}
.fc .fc-daygrid-day{
  border: 1px solid #e5e7eb;
}
.fc .fc-daygrid-day-number{
  padding: 0.35rem 0.4rem;
  font-size: 0.75rem;
  font-weight: 500;
  color: #6b7280;
}
.fc .fc-daygrid-day-frame:hover{
  background-color: rgba(148,163,184,0.06);
}
.fc .fc-event:hover{
  box-shadow: 0 4px 12px rgba(15,23,42,0.18);
}
.fc .fc-highlight{
  background-color: rgba(129,140,248,0.25);
}
.fc .fc-daygrid-day.fc-weekend{
  background-color: rgba(15,23,42,0.02);
}
/* FullCalendar 이벤트 텍스트 자동 줄넘김 */
.fc .fc-event-title,
.fc .fc-event-title-container {
  white-space: normal !important;
  word-break: break-word !important;
  overflow-wrap: break-word !important;
  line-height: 1.3 !important;
}
.fc .fc-daygrid-event {
  white-space: normal !important;
  overflow: visible !important;
}
.fc .fc-daygrid-event-dot {
  flex-shrink: 0;
}

/* CRM utility surfaces */
.bg-overlay-60 { background-color: var(--overlay-60); }
.crm-surface { background-color: #FFFFFF; border: 1px solid var(--neutral-100); border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
.crm-surface:hover { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
.crm-border { border-color: var(--neutral-100); }
.crm-muted { color: var(--neutral-400); }
.crm-heading { color: var(--neutral-900); letter-spacing: -0.01em; font-weight: 600; }
.crm-section { background-color: #FFFFFF; border: 1px solid var(--neutral-200); border-radius: 12px; padding: 16px; }

/* Selection & link styling for better discoverability */
::selection { background: rgba(244,114,182,.25); color: inherit; }
a { color: var(--link-color); text-underline-offset: 2px; }
a:hover { color: var(--link-hover-color); text-decoration: underline; }

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation-duration: .001ms !important; animation-iteration-count: 1 !important; }
}

/* Dividers */
.divider-h { height: 1px; width: 100%; background: var(--neutral-200); }
.divider-v { width: 1px; height: 100%; background: var(--neutral-200); }

/* Keyboard key UI */
.kbd { display: inline-flex; align-items: center; border: 1px solid var(--neutral-200); background: #fff; border-radius: 6px; padding: 0 6px; height: 22px; font-size: 12px; color: var(--neutral-900); box-shadow: 0 1px 0 rgba(17,17,19,.04); }

/* Clickable rows (tables, lists) */
.clickable-row { cursor: pointer; }
.clickable-row:hover { background: rgba(17,17,19,.035); }
.clickable-row:active { background: rgba(17,17,19,.06); }

/* Skeleton shimmer (optional utility) */
@keyframes shimmer {
  0% { background-position: -468px 0; }
  100% { background-position: 468px 0; }
}
.skeleton-shimmer {
  animation-duration: 2s;
  animation-fill-mode: forwards;
  animation-iteration-count: infinite;
  animation-name: shimmer;
  animation-timing-function: ease-in-out;
  background: linear-gradient(to right, rgba(209,196,202,.6) 8%, rgba(209,196,202,.95) 18%, rgba(209,196,202,.6) 33%);
  background-size: 800px 104px;
  position: relative;
}

/* Button ripple effect */
@keyframes ripple {
  0% {
    transform: scale(0);
    opacity: 0.6;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

.ripple-effect {
  position: absolute;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.6);
  pointer-events: none;
  animation: ripple 250ms ease-out;
}

/* Input animations */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
  20%, 40%, 60%, 80% { transform: translateX(4px); }
}

.input-shake {
  animation: shake 250ms ease-in-out;
}

@keyframes placeholder-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes placeholder-fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}

.input-placeholder-fade-in::placeholder {
  animation: placeholder-fade-in 200ms ease-out;
}

.input-placeholder-fade-out::placeholder {
  animation: placeholder-fade-out 200ms ease-out;
}

/* Table scroll shadow */
.table-scroll-shadow-left::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 16px;
  background: linear-gradient(to right, rgba(255,255,255,0.9), transparent);
  pointer-events: none;
  z-index: 10;
}

.table-scroll-shadow-right::after {
  content: '';
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 16px;
  background: linear-gradient(to left, rgba(255,255,255,0.9), transparent);
  pointer-events: none;
  z-index: 10;
}

/* Fade in animations */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-fade-in {
  animation: fade-in 300ms ease-out forwards;
}

/* Slide in animations */
@keyframes slide-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-in-up {
  animation: slide-in-up 300ms ease-out forwards;
}

@keyframes slide-in-down {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-in-down {
  animation: slide-in-down 300ms ease-out forwards;
}

@keyframes slide-in-left {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-in-left {
  animation: slide-in-left 300ms ease-out forwards;
}

@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-in-right {
  animation: slide-in-right 300ms ease-out forwards;
}

/* Soft brand helpers */
.bg-brand-soft { background: linear-gradient(180deg, var(--brand-50), #ffffff 60%); }
.shadow-soft { box-shadow: 0 8px 28px rgba(228,120,150,.12); }

/* Dark mode styles */
.dark {
  color-scheme: dark;
  --bg: #0f172a;
  --primary: #3b82f6;
  --muted: #94a3b8;
  --neutral-50: #1e293b;
  --neutral-100: #334155;
  --neutral-200: #475569;
  --neutral-400: #64748b;
  --neutral-900: #f1f5f9;
  --brand-50: #1e1b1e;
  --brand-100: #2d272a;
  --brand-300: #5a474c;
  --brand-400: #7a6067;
  --brand-500: #9a7982;
  --brand-600: #ba929d;
  --brand-700: #daabb8;
  --overlay-60: rgba(15,23,42,0.80);
}

.dark body {
  background: var(--bg);
  color: var(--neutral-900);
}

.dark .bg-white {
  background-color: var(--neutral-50);
}

.dark .border-neutral-200 {
  border-color: var(--neutral-200);
}

.dark .text-neutral-700 {
  color: var(--neutral-900);
}

.dark .text-neutral-600 {
  color: var(--neutral-400);
}

.dark .bg-neutral-50 {
  background-color: var(--neutral-100);
}

.dark .bg-neutral-100 {
  background-color: var(--neutral-200);
}

.dark .hover\:bg-neutral-50:hover {
  background-color: var(--neutral-200);
}

.dark .hover\:bg-neutral-100:hover {
  background-color: var(--neutral-300);
}

/* Responsive utility classes */
@media (max-width: 640px) {
  .mobile-full-width {
    width: 100%;
  }
  
  .mobile-hidden {
    display: none;
  }
}

@media (min-width: 768px) {
  .mobile-only {
    display: none;
  }
}

/* Touch optimization */
.touch-manipulation {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Mobile-specific improvements */
@media (max-width: 640px) {
  /* Ensure minimum touch target size (44x44px) */
  button:not([class*="h-"]):not([class*="w-"]), 
  a:not([class*="h-"]):not([class*="w-"]), 
  [role="button"]:not([class*="h-"]):not([class*="w-"]) {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* 모달 모바일 fullscreen 지향 */
  [role="dialog"] {
    max-width: 100vw !important;
    max-height: 100vh !important;
    margin: 0 !important;
    border-radius: 0 !important;
  }
  
  /* 테이블 모바일 최적화 */
  table {
    font-size: 0.875rem;
  }
  
  /* 카드 간격 조정 */
  .space-y-4 > * + * {
    margin-top: 1rem;
  }
}

/* Tablet-specific improvements */
@media (min-width: 641px) and (max-width: 1023px) {
  /* 태블릿 최적 간격 */
  .container {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
  
  /* 태블릿 그리드 조정 */
  .grid-cols-1.sm\\:grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  
  /* Improve text readability on mobile */
  body {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
  
  /* Better scrolling on mobile */
  * {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Container padding for mobile */
  .container {
    padding-left: 1rem; /* px-4 */
    padding-right: 1rem;
  }
}

/* Tablet-specific improvements */
@media (min-width: 641px) and (max-width: 1023px) {
  .container {
    padding-left: 1.5rem; /* px-6 */
    padding-right: 1.5rem;
  }
}

/* Desktop-specific improvements */
@media (min-width: 1024px) {
  .container {
    padding-left: 2rem; /* px-8 */
    padding-right: 2rem;
  }
}

/* Card to list conversion on mobile */
@media (max-width: 640px) {
  .card-list-mobile {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  .card-list-mobile > * {
    width: 100%;
  }
}

/* Button full width on mobile */
@media (max-width: 640px) {
  .btn-mobile-full {
    width: 100%;
  }
}

/* Line clamp utilities */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-4 {
  display: -webkit-box;
  -webkit-line-clamp: 4;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-none {
  display: block;
  -webkit-line-clamp: unset;
  -webkit-box-orient: unset;
  overflow: visible;
}

/* Text overflow utilities */
.text-ellipsis {
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
}

.text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* FilterBar inputs: widen and improve placeholder visibility */
.filterbar input,
.filterbar select {
  min-width: 260px;
}
.filterbar .max-w-sm,
.filterbar .max-w-md {
  max-width: 640px;
}
.filterbar input::placeholder {
  opacity: .65;
}
.filterbar input::-ms-clear { display: none; }

/* Legacy helper classes (kept for backward compatibility) aligned to design system */
.btn-primary {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background-color: var(--primary);
  color: #fff;
  border-radius: 0.375rem; /* rounded-md */
  padding: 0.5rem 0.875rem;
  box-shadow: 0 1px 2px rgba(37, 99, 235, 0.25);
  transition: background-color .18s ease, transform .18s ease, box-shadow .18s ease;
}
.btn-primary:hover { background-color: #1d4ed8; box-shadow: 0 2px 6px rgba(37,99,235,0.3); }
.btn-primary:active { transform: scale(0.98); }
.btn-secondary {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background-color: #f9fafb;
  color: #374151;
  border-radius: 0.375rem;
  border: 1px solid #d1d5db;
  padding: 0.5rem 0.875rem;
}
.btn-danger {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background-color: #ef4444;
  color: #fff;
  border-radius: 0.375rem;
  padding: 0.5rem 0.875rem;
}
.input {
  width: 100%;
  border: 1px solid #d1d5db; /* gray-300 */
  border-radius: 0.375rem;
  padding: 0.5rem 0.75rem;
  outline: none;
}
.input:focus {
  box-shadow: 0 0 0 3px rgba(37,99,235,0.25);
  border-color: rgba(37,99,235,0.65);
}
.card {
  background-color: #fff;
  border-radius: 0.5rem; /* rounded-lg */
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-md */
}
.card:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
}
.card-body {
  padding: 1rem;
}
@media (min-width: 768px) {
  .card-body { padding: 1.5rem; }
}
table.table tbody tr:hover { background-color: #f8fafc; }
